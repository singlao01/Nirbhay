{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\nirbhayy\\\\frontend\\\\src\\\\components\\\\EmergencyButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport \"../styles/EmergencyButton.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EmergencyButton() {\n  _s();\n  const [isActivated, setIsActivated] = useState(false);\n  const [countdown, setCountdown] = useState(0);\n  const handleEmergency = () => {\n    // Start countdown to prevent accidental triggers\n    setIsActivated(true);\n    setCountdown(3);\n    const timer = setInterval(() => {\n      setCountdown(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          sendAlert();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n  const cancelAlert = () => {\n    setIsActivated(false);\n    setCountdown(0);\n  };\n  const sendAlert = () => {\n    // Get current location\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const lat = position.coords.latitude;\n        const lng = position.coords.longitude;\n        const locationStr = `Lat: ${lat}, Lng: ${lng}`;\n\n        // In a real app, this would send the alert to emergency contacts\n        alert(`ðŸš¨ Emergency Alert Sent! Your current location (${locationStr}) has been shared with your emergency contacts.`);\n        setIsActivated(false);\n      }, error => {\n        alert(\"ðŸš¨ Emergency Alert Sent! (Unable to access location)\");\n        setIsActivated(false);\n      });\n    } else {\n      alert(\"ðŸš¨ Emergency Alert Sent! (Geolocation not supported)\");\n      setIsActivated(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isActivated ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleEmergency,\n      className: \"emergency-button pulse\",\n      children: \"\\uD83D\\uDEA8 Emergency Alert\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"emergency-countdown-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"emergency-countdown\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Sending alert in \", countdown, \"...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: cancelAlert,\n          className: \"btn btn-outline\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(EmergencyButton, \"/21KnL8NZmdVuSCBIF3G3hm7bHM=\");\n_c = EmergencyButton;\nexport default EmergencyButton;\nvar _c;\n$RefreshReg$(_c, \"EmergencyButton\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","EmergencyButton","_s","isActivated","setIsActivated","countdown","setCountdown","handleEmergency","timer","setInterval","prev","clearInterval","sendAlert","cancelAlert","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","locationStr","alert","error","children","onClick","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/Desktop/nirbhayy/frontend/src/components/EmergencyButton.js"],"sourcesContent":["import React, { useState } from 'react';\nimport \"../styles/EmergencyButton.css\";\n\nfunction EmergencyButton() {\n  const [isActivated, setIsActivated] = useState(false);\n  const [countdown, setCountdown] = useState(0);\n  \n  const handleEmergency = () => {\n    // Start countdown to prevent accidental triggers\n    setIsActivated(true);\n    setCountdown(3);\n    \n    const timer = setInterval(() => {\n      setCountdown(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          sendAlert();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n  \n  const cancelAlert = () => {\n    setIsActivated(false);\n    setCountdown(0);\n  };\n  \n  const sendAlert = () => {\n    // Get current location\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const lat = position.coords.latitude;\n          const lng = position.coords.longitude;\n          const locationStr = `Lat: ${lat}, Lng: ${lng}`;\n          \n          // In a real app, this would send the alert to emergency contacts\n          alert(`ðŸš¨ Emergency Alert Sent! Your current location (${locationStr}) has been shared with your emergency contacts.`);\n          \n          setIsActivated(false);\n        },\n        (error) => {\n          alert(\"ðŸš¨ Emergency Alert Sent! (Unable to access location)\");\n          setIsActivated(false);\n        }\n      );\n    } else {\n      alert(\"ðŸš¨ Emergency Alert Sent! (Geolocation not supported)\");\n      setIsActivated(false);\n    }\n  };\n\n  return (\n    <div>\n      {!isActivated ? (\n        <button \n          onClick={handleEmergency} \n          className=\"emergency-button pulse\"\n        >\n          ðŸš¨ Emergency Alert\n        </button>\n      ) : (\n        <div className=\"emergency-countdown-container\">\n          <div className=\"emergency-countdown\">\n            <p>Sending alert in {countdown}...</p>\n            <button onClick={cancelAlert} className=\"btn btn-outline\">\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default EmergencyButton;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}